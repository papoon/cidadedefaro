<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="site.title">Guia de Faro</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="description" content="Guia completo para viver e visitar Faro - informaÃ§Ãµes sobre transportes, saÃºde, ambiente e lazer na cidade" data-i18n="site.description" data-i18n-attr="content">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Guia Faro">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/accessibility.css">
    <link rel="stylesheet" href="css/ux.css">
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button id="dark-mode-toggle" aria-label="Alternar modo escuro" aria-pressed="false">
        <span class="dark-mode-icon">ğŸŒ™</span>
    </button>

    <header role="banner">
        <h1 data-i18n="site.title">Guia de Faro</h1>
        <div id="lang-switcher">
            <button data-lang="pt" onclick="window.i18n.switchLanguage('pt')" aria-label="Mudar para PortuguÃªs">
                ğŸ‡µğŸ‡¹ PT
            </button>
            <button data-lang="en" onclick="window.i18n.switchLanguage('en')" aria-label="Switch to English">
                ğŸ‡¬ğŸ‡§ EN
            </button>
        </div>
        <nav role="navigation" aria-label="Menu principal">
            <ul role="menubar">
                <li role="none"><a href="index.html" role="menuitem" data-i18n="nav.home">InÃ­cio</a></li>
                <li role="none"><a href="transportes.html" role="menuitem" data-i18n="nav.transport">Transportes</a></li>
                <li role="none"><a href="saude.html" role="menuitem" data-i18n="nav.health">SaÃºde</a></li>
                <li role="none"><a href="ambiente.html" role="menuitem" data-i18n="nav.environment">Ambiente</a></li>
                <li role="none"><a href="lazer.html" role="menuitem" data-i18n="nav.leisure">Lazer</a></li>
                <li role="none"><a href="restaurantes.html" role="menuitem" data-i18n="nav.restaurants">Onde Comer</a></li>
                <li role="none"><a href="hoteis.html" role="menuitem" data-i18n="nav.hotels">Onde Ficar</a></li>
                <li role="none"><a href="oque-fazer-hoje.html" role="menuitem" data-i18n="nav.what_to_do">O que fazer hoje</a></li>
                <li role="none"><a href="mapa.html" role="menuitem" data-i18n="nav.map">Mapa</a></li>
                <li role="none"><a href="problemas-frequentes.html" role="menuitem" data-i18n="nav.faq">Problemas Frequentes</a></li>
                <li role="none"><a href="viver-em-faro.html" role="menuitem" data-i18n="nav.living">Viver em Faro</a></li>
                <li role="none"><a href="mobilidade.html" role="menuitem" data-i18n="nav.mobility">Mobilidade</a></li>
                <li role="none"><a href="historia-faro.html" role="menuitem" data-i18n="nav.history">HistÃ³ria</a></li>
                <li role="none"><a href="guia-premium.html" role="menuitem" data-i18n="nav.premium">ğŸ“˜ Guia Premium</a></li>
                <li role="none"><a href="sobre-projeto.html" role="menuitem" data-i18n="nav.about">â„¹ï¸ Sobre o Projeto</a></li>
                <li role="none"><a href="favoritos.html" role="menuitem" data-i18n="nav.favorites">â­ Favoritos <span id="favorites-count" class="favorites-count" style="display:none;">0</span></a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content" role="main">
        <section class="hero" aria-labelledby="hero-title">
            <h2 id="hero-title" data-i18n="home.hero_title">Bem-vindo ao Guia PrÃ¡tico de Faro</h2>
            <p data-i18n="home.hero_description">O seu guia completo para viver e visitar Faro. Encontre informaÃ§Ãµes essenciais sobre transportes, saÃºde, ambiente e lazer na cidade.</p>
            
            <!-- Premium Guide Notice -->
            <div class="premium-notice">
                <p>
                    <span class="notice-label" data-i18n="home.premium_notice_label">ğŸ“˜ Novo:</span> 
                    <span data-i18n="home.premium_notice_text">Descarregue o <a href="guia-premium.html">Guia Premium de Faro</a> com mapas offline, dicas de transporte e eventos detalhados.</span>
                </p>
            </div>
        </section>

        <!-- InformaÃ§Ãµes do MunicÃ­pio via GEO API PT -->
        <section id="dados-faro" class="dados-faro-section">
        </section>

        <section class="cards-container" aria-labelledby="sections-title">
            <h2 id="sections-title" data-i18n="home.sections_title">Explore as SecÃ§Ãµes</h2>
            
            <!-- Filter Container -->
            <div class="filter-container">
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">Todos</button>
                    <button class="filter-btn" data-filter="info">InformaÃ§Ã£o</button>
                    <button class="filter-btn" data-filter="tourism">Turismo</button>
                    <button class="filter-btn" data-filter="services">ServiÃ§os</button>
                </div>
            </div>
            
            <div class="cards-grid">
                <a href="transportes.html" class="card" data-filter-category="info,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de autocarro">ğŸšŒ</div>
                    <h3 data-i18n="home.card_transport_title">Transportes</h3>
                    <p data-i18n="home.card_transport_desc">InformaÃ§Ãµes sobre autocarros, comboios e mobilidade na cidade</p>
                </a>

                <a href="saude.html" class="card" data-filter-category="info,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de hospital">ğŸ¥</div>
                    <h3 data-i18n="home.card_health_title">SaÃºde</h3>
                    <p data-i18n="home.card_health_desc">Centros de saÃºde, hospitais e serviÃ§os mÃ©dicos</p>
                </a>

                <a href="ambiente.html" class="card" data-filter-category="info,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de planta">ğŸŒ¿</div>
                    <h3 data-i18n="home.card_environment_title">Ambiente</h3>
                    <p data-i18n="home.card_environment_desc">Sustentabilidade, reciclagem e espaÃ§os verdes</p>
                </a>

                <a href="lazer.html" class="card" data-filter-category="tourism">
                    <div class="card-icon" role="img" aria-label="Ãcone de mÃ¡scara teatral">ğŸ­</div>
                    <h3 data-i18n="home.card_leisure_title">Lazer</h3>
                    <p data-i18n="home.card_leisure_desc">Cultura, turismo e atividades de lazer</p>
                </a>

                <a href="restaurantes.html" class="card" data-filter-category="tourism,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de garfo e faca">ğŸ½ï¸</div>
                    <h3 data-i18n="home.card_restaurants_title">Onde Comer</h3>
                    <p data-i18n="home.card_restaurants_desc">Descubra cafÃ©s, pastelarias e restaurantes em Faro</p>
                </a>

                <a href="hoteis.html" class="card" data-filter-category="tourism,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de hotel">ğŸ¨</div>
                    <h3 data-i18n="home.card_hotels_title">Onde Ficar</h3>
                    <p data-i18n="home.card_hotels_desc">HotÃ©is, hostels e alojamentos em Faro</p>
                </a>

                <a href="viver-em-faro.html" class="card" data-filter-category="info">
                    <div class="card-icon" role="img" aria-label="Ãcone de casa">ğŸ </div>
                    <h3 data-i18n="home.card_living_title">Viver em Faro</h3>
                    <p data-i18n="home.card_living_desc">Guia essencial para novos residentes na cidade</p>
                </a>

                <a href="problemas-frequentes.html" class="card" data-filter-category="info,services">
                    <div class="card-icon" role="img" aria-label="Ãcone de ferramentas">ğŸ› ï¸</div>
                    <h3 data-i18n="home.card_faq_title">Problemas Frequentes</h3>
                    <p data-i18n="home.card_faq_desc">Saiba como resolver problemas urbanos comuns na cidade</p>
                </a>

                <a href="guia-premium.html" class="card card-premium" data-filter-category="tourism,info">
                    <div class="card-icon" role="img" aria-label="Ãcone de livro premium">ğŸ“˜</div>
                    <h3 data-i18n="home.card_premium_title">Guia Premium</h3>
                    <p data-i18n="home.card_premium_desc">ConteÃºdo detalhado com mapas offline, transporte e eventos (apoio voluntÃ¡rio)</p>
                </a>
            </div>
        </section>
    </main>

    <footer role="contentinfo">
        <p data-i18n="footer.copyright">&copy; 2024 Guia de Faro</p>
        <p class="data-sources" data-i18n="footer.data_sources">Fontes de dados: CÃ¢mara Municipal de Faro, Portal do CidadÃ£o, Turismo de Portugal, GEO API PT</p>
        <div class="donation-container">
            <p class="donation-message" data-i18n="footer.donation_message">Apoie este projeto de forma voluntÃ¡ria</p>
            <a href="https://www.buymeacoffee.com/guiadefaro" target="_blank" rel="noopener noreferrer" class="donation-button" aria-label="Apoiar o projeto com uma doaÃ§Ã£o voluntÃ¡ria">
                <span class="donation-icon" role="img" aria-label="Ãcone de cafÃ©">â˜•</span>
                <span data-i18n="footer.donation_button">Apoiar o Projeto</span>
            </a>
        </div>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="js/pwa.js"></script>
    <script src="js/accessibility.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/search.js"></script>
    <script src="js/dados-api.js"></script>
    <script src="js/ux.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Carregar dados de Faro quando a pÃ¡gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            exibirDadosFaro('dados-faro');
            
            // Adicionar botÃµes de favoritos aos cards
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const title = card.querySelector('h3')?.textContent;
                const url = card.getAttribute('href');
                if (title && url) {
                    const pageId = 'page-' + url.replace('.html', '');
                    const favoriteBtn = createFavoriteButton(pageId, 'page', title, url);
                    favoriteBtn.style.position = 'absolute';
                    favoriteBtn.style.top = '1rem';
                    favoriteBtn.style.right = '1rem';
                    card.style.position = 'relative';
                    card.appendChild(favoriteBtn);
                }
            });
        });
    </script>
</body>
</html>
